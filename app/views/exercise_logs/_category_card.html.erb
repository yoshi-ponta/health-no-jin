<button
  type="button"
  class="card rounded-2xl aspect-square w-full cursor-pointer bg-amber-100 text-amber-900
         shadow-sm transition hover:shadow-md hover:-translate-y-0.5 hover:bg-amber-200
         active:scale-95 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300 overflow-hidden"
  data-modal-target="<%= modal_id %>"
  aria-label="<%= name %> の種目を選択"
  aria-haspopup="dialog"
  aria-controls="<%= modal_id %>">
  <div class="card-body p-3 sm:p-4 flex flex-col items-center justify-center text-center gap-1.5 min-w-0">
    <div class="flex h-10 w-10 items-center justify-center rounded-full text-lg leading-none shrink-0"><%= icon %></div>
    <div class="mt-1 font-semibold leading-tight text-center break-words max-w-full
                [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical] overflow-hidden"><%= name %></div>
  </div>
</button>

<dialog id="<%= modal_id %>" class="modal" aria-labelledby="label-<%= modal_id %>">
  <div class="modal-box max-w-sm">
    <div class="flex items-center justify-between mb-2">
      <h3 id="label-<%= modal_id %>" class="font-bold text-base">
        <span class="mr-1 inline-flex items-center leading-none"><%= icon %></span><%= name %> の種目
      </h3>
    </div>

    <div class="grid grid-cols-2 gap-2">
      <% items.each do |it| %>
        <button
          type="button"
          class="card bg-base-100 border shadow-sm rounded-xl p-2 text-center hover:shadow-md transition min-w-0"
          data-select-item
          data-exercise-item-id="<%= it[:exercise_item_id] %>">
          <div class="text-sm font-semibold break-words
                      [display:-webkit-box] [-webkit-line-clamp:2] [-webkit-box-orient:vertical] overflow-hidden"><%= it[:name] %></div>
          <div class="text-[11px] text-gray-500 mt-0.5"><%= "#{it[:points]}pt" %></div>
        </button>
      <% end %>
    </div>

    <p class="mt-3 text-xs text-gray-500">種目を選んでください。</p>

    <div class="modal-action justify-center">
      <button type="button" class="btn btn-primary btn-sm" data-record-submit disabled>記録する</button>
    </div>
  </div>

  <form method="dialog" class="modal-backdrop">
    <button aria-label="閉じる">閉じる</button>
  </form>
</dialog>
