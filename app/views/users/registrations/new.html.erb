<div class="min-h-[80svh] grid place-items-center px-4">
  <div class="w-full max-w-md rounded-2xl bg-white/90 shadow-lg ring-1 ring-black/5 p-6 sm:p-8">
    <h1 class="text-2xl font-bold tracking-tight text-gray-900 mb-2"><%= t(".title") %></h1>
    <p class="text-sm text-gray-500 mb-6"><%= t(".description") %></p>

    <% if resource.errors.any? %>
      <div class="mb-6 rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-800" role="alert" aria-live="polite">
        <p class="font-semibold mb-2"><%=t(".error_summary_title")%></p>
        <ul class="list-disc pl-5 space-y-1">
          <% resource.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: resource, url: registration_path(resource_name), class: "space-y-5" do |f| %>

      <% email_has_error = resource.errors[:email].present? %>
      <div>
        <%= f.label :email, t(".email"), class: "block text-sm font-medium text-gray-700" %>
        <%= f.email_field :email,
              autofocus: true,
              autocomplete: "email",
              required: true,
              "aria-invalid": email_has_error,
              class: [
                "mt-1 block w-full rounded-xl border bg-white px-3 py-2 text-gray-900 shadow-sm outline-none",
                "placeholder:text-gray-400",
                "focus:ring-2 focus:ring-offset-0",
                (email_has_error ? "border-red-300 focus:ring-red-300" : "border-gray-300 focus:ring-gray-300")
              ].join(" ") %>
        <% if email_has_error %>
          <p class="mt-2 text-xs text-red-600"><%= resource.errors[:email].first %></p>
        <% end %>
      </div>

      <% pw_has_error = resource.errors[:password].present? %>
      <div>
        <div class="flex items-baseline justify-between">
          <%= f.label :password, t(".password"), class: "block text-sm font-medium text-gray-700" %>
          <span class="text-xs text-gray-400"><%=t(".password_hint")%></span>
        </div>
        <%= f.password_field :password,
              autocomplete: "new-password",
              required: true,
              "aria-invalid": pw_has_error,
              class: [
                "mt-1 block w-full rounded-xl border bg-white px-3 py-2 text-gray-900 shadow-sm outline-none",
                "focus:ring-2 focus:ring-offset-0",
                (pw_has_error ? "border-red-300 focus:ring-red-300" : "border-gray-300 focus:ring-gray-300")
              ].join(" ") %>
        <% if pw_has_error %>
          <p class="mt-2 text-xs text-red-600"><%= resource.errors[:password].first %></p>
        <% end %>
      </div>

      <% pc_has_error = resource.errors[:password_confirmation].present? %>
      <div>
        <%= f.label :password_confirmation, t(".password_confirmation"), class: "block text-sm font-medium text-gray-700" %>
        <%= f.password_field :password_confirmation,
              autocomplete: "new-password",
              required: true,
              "aria-invalid": pc_has_error,
              class: [
                "mt-1 block w-full rounded-xl border bg-white px-3 py-2 text-gray-900 shadow-sm outline-none",
                "focus:ring-2 focus:ring-offset-0",
                (pc_has_error ? "border-red-300 focus:ring-red-300" : "border-gray-300 focus:ring-gray-300")
              ].join(" ") %>
        <% if pc_has_error %>
          <p class="mt-2 text-xs text-red-600"><%= resource.errors[:password_confirmation].first %></p>
        <% end %>
      </div>

      <div class="pt-2">
        <%= f.submit t(".submit"),
              class: "w-full rounded-xl bg-black px-4 py-2.5 text-white font-semibold shadow hover:opacity-90 transition" %>
      </div>
    <% end %>

    <div class="mt-6 text-center text-sm">
      <%=t(".have_account")%>
      <%= link_to t(".login_link"), new_user_session_path, class: "font-semibold text-gray-900 underline underline-offset-4 hover:opacity-80" %>
    </div>
  </div>
</div>
